<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Helix Vault - A three layer secure safe integrating biometric authentication, analog combination input, and PIN verification. Embedded Systems Final Project — ESE 5190 (Fall 2025)">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Helix Vault | Byte This - ESE 5190 Final Project">
    <meta property="og:description" content="A three layer secure safe integrating biometric authentication, analog combination input, and PIN verification.">
    <meta property="og:image" content="https://upenn-embedded.github.io/helix-vault/images/400x400.jpg">
    <meta property="og:image:width" content="400">
    <meta property="og:image:height" content="400">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Helix Vault | Byte This">
    <meta name="twitter:description" content="A three layer secure safe with biometric authentication">
    <meta name="twitter:image" content="https://upenn-embedded.github.io/helix-vault/images/400x400.jpg">

    <title>Helix Vault | Byte This - ESE 5190 Final Project</title>
    <link rel="stylesheet" href="styles.css?v=2">
</head>
<body>
    <header>
        <div class="container header-grid">
            <div class="header-left">
                <h1>Helix Vault</h1>
                <p class="subtitle">Embedded Systems Final Project — ESE 5190 (Fall 2025)</p>
                <p class="team-name">Team Byte This (Team 16)</p>
            </div>
            <div class="header-center">
                <a href="https://www.youtube.com/watch?v=f8Z03Lm1yS4" target="_blank" class="video-thumbnail-link">
                    <img src="https://img.youtube.com/vi/f8Z03Lm1yS4/hqdefault.jpg" alt="Demo Video" class="video-thumbnail">
                    <div class="play-button">▶</div>
                </a>
            </div>
            <div class="header-right">
                <div class="header-links">
                    <div class="header-link-group">
                        <span class="link-label">Team</span>
                        <div class="link-items">
                            <a href="mailto:yongwoo@seas.upenn.edu">Yongwoo Park</a>
                            <a href="mailto:jeev@seas.upenn.edu">Jeevan Karandikar</a>
                            <a href="mailto:tascoli@seas.upenn.edu">Tomas Ascoli</a>
                        </div>
                    </div>
                    <div class="header-link-group">
                        <span class="link-label">Links</span>
                        <div class="link-items">
                            <a href="https://github.com/upenn-embedded/helix-vault" target="_blank">
                                <svg height="16" width="16" viewBox="0 0 16 16" fill="currentColor" style="display: inline-block; vertical-align: text-bottom; margin-right: 4px;">
                                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                                </svg>
                                Repository
                            </a>
                            <a href="https://github.com/mpagnoulle/R503-Fingerprint-Sensor-Library" target="_blank">R503 Library</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <nav class="sticky-nav">
        <div class="nav-container">
            <a href="https://www.youtube.com/watch?v=f8Z03Lm1yS4" target="_blank" class="nav-link">Demo</a>
            <a href="#overview" class="nav-link">System Overview</a>
            <a href="#images" class="nav-link">Gallery</a>
            <a href="#requirements" class="nav-link">Requirements</a>
            <a href="#conclusion" class="nav-link">Conclusion</a>
        </div>
    </nav>

    <main>
        <section id="overview" class="hero-section">
            <div class="container overview-grid">
                <div class="overview-image">
                    <img src="images/after_fingerprint.jpg" alt="Helix Vault - Fingerprint Stage" class="hero-image">
                </div>
                <div class="overview-text">
                    <p class="intro-text">
                        A three layer secure safe integrating biometric authentication, analog combination input, and PIN verification.
                        Powered by two ATmega328PB microcontrollers and an ESP32 fingerprint module, Helix Vault blends embedded security logic,
                        mechanical actuation, and a guided LCD user interface.
                    </p>
                    <h3>System Overview</h3>
                    <p class="system-description">
                        Helix Vault uses a sequential three layer unlock flow:
                    </p>
                    <ol class="system-flow">
                        <li><strong>Fingerprint verification</strong> (ESP32 + R503 sensor)</li>
                        <li><strong>Analog combination</strong> using potentiometers + switches (ADC readings)</li>
                        <li><strong>PIN entry</strong> using a matrix keypad</li>
                    </ol>
                    <p class="system-description">
                        A DC motor opens the sliding door after fingerprint recognition, revealing the analog combination and keypad stage.
                    </p>
                </div>
            </div>
        </section>

        <section id="images">
            <div class="container">
                <h3>Device Overview</h3>
                <div class="img-grid">
                    <div class="img-grid-item" onclick="openModal('images/after_fingerprint.jpg', 'Fingerprint Stage')">
                        <img src="images/after_fingerprint.jpg" alt="Fingerprint Stage" loading="lazy">
                    </div>
                    <div class="img-grid-item" onclick="openModal('images/unlocked.jpg', 'Fully Unlocked Safe')">
                        <img src="images/unlocked.jpg" alt="Fully Unlocked Safe" loading="lazy">
                    </div>
                    <div class="img-grid-item" onclick="openModal('images/circuit_wiring.png', 'Circuit Wiring')">
                        <img src="images/circuit_wiring.png" alt="Circuit Wiring" loading="lazy">
                    </div>
                    <div class="img-grid-item" onclick="openModal('images/fully_locked.jpg', 'Fully Locked')">
                        <img src="images/fully_locked.jpg" alt="Fully Locked" loading="lazy">
                    </div>
                </div>

                <h3>Prototype & Sketches</h3>
                <div class="img-grid">
                    <div class="img-grid-item" onclick="openModal('images/breadboard.png', 'Breadboarded Electronics')">
                        <img src="images/breadboard.png" alt="Breadboarded Electronics" loading="lazy">
                    </div>
                    <div class="img-grid-item" onclick="openModal('images/LCD_password.jpg', 'LCD Breadboarding')">
                        <img src="images/LCD_password.jpg" alt="LCD Breadboarding" loading="lazy">
                    </div>
                    <div class="img-grid-item" onclick="openModal('images/FrontPanelSketch.png', 'Front Panel Sketch')">
                        <img src="images/FrontPanelSketch.png" alt="Front Panel Sketch" loading="lazy">
                    </div>
                    <div class="img-grid-item" onclick="openModal('images/TopPanelSketch.png', 'Top Panel Sketch')">
                        <img src="images/TopPanelSketch.png" alt="Top Panel Sketch" loading="lazy">
                    </div>
                </div>

                <h3>System Diagrams</h3>
                <div class="img-grid-large">
                    <div class="img-grid-item-large" onclick="openModal('images/block_diagram.png', 'System Block Diagram')">
                        <img src="images/block_diagram.png" alt="System Block Diagram" loading="lazy">
                    </div>
                    <div class="img-grid-item-large" onclick="openModal('images/circuit_diagram.png', 'System Circuit Diagram')">
                        <img src="images/circuit_diagram.png" alt="System Circuit Diagram" loading="lazy">
                    </div>
                </div>
            </div>
        </section>

        <section id="requirements" class="requirements-section">
            <div class="container">
                <div class="definitions-grid">
                    <div class="def-card">
                        <h3>Software Definitions</h3>
                        <div class="def-list">
                            <div class="def-item"><span class="def-term">MCU</span><span class="def-desc">Microcontroller Unit</span></div>
                            <div class="def-item"><span class="def-term">LCD</span><span class="def-desc">Liquid Crystal Display</span></div>
                            <div class="def-item"><span class="def-term">ADC</span><span class="def-desc">Analog-to-digital converter</span></div>
                            <div class="def-item"><span class="def-term">PIN</span><span class="def-desc">Personal Identification Number</span></div>
                            <div class="def-item"><span class="def-term">Unlock Sequence</span><span class="def-desc">Fingerprint → Combination → PIN</span></div>
                            <div class="def-item"><span class="def-term">R503</span><span class="def-desc">Fingerprint sensor module</span></div>
                        </div>
                    </div>
                    <div class="def-card">
                        <h3>Hardware Definitions</h3>
                        <div class="def-list">
                            <div class="def-item"><span class="def-term">DC Motor</span><span class="def-desc">Linear actuator for sliding door</span></div>
                            <div class="def-item"><span class="def-term">Servo</span><span class="def-desc">Rotary actuator for latch</span></div>
                            <div class="def-item"><span class="def-term">H-Bridge</span><span class="def-desc">Motor driver IC</span></div>
                            <div class="def-item"><span class="def-term">Sliding Door</span><span class="def-desc">Inner door covering combination + keypad</span></div>
                        </div>
                    </div>
                </div>

                <div class="requirements-columns">
                    <div class="requirements-column">
                        <h3 class="column-header">Software Requirements Specification (SRS)</h3>
                    <div class="req-card">
                        <div class="req-number">SRS-01</div>
                        <h3>Low Power Management</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The system shall be in low power mode when not being used. If the battery dies, it shall be rechargeable without unlocking or compromising the safe.</p>
                            <div class="req-label">Result</div>
                            <p>We did not add a low-power mode, but powering up the system never compromises safety—on startup, it always verifies that all locks are closed. If the box is powered off, it does not lock itself, so users should ensure it is closed and latched before disconnecting power. The box can also be easily locked by pressing "*", and any power loss during unlocking resets it to the first security layer.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">SRS-02</div>
                        <h3>Correct Password Recognition</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The safe shall only open when the correct password is typed into the system.</p>
                            <div class="req-label">Result</div>
                            <p>Requirement fully met. The fingerprint sensor reliably accepts only saved fingerprints, each linked to a unique combination and PIN. The keypad is disabled until the analog combination is correctly entered, and only the exact 4-digit PIN associated with the authenticated fingerprint will open the box.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">SRS-03</div>
                        <h3>Servo Control</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The 1st servo shall only open the door when both the facial recognition and fingerprint scans have been successful and shall close it when the user closes the box and presses the close button.</p>
                            <div class="req-label">Result</div>
                            <p>We updated this requirement to servo + DC motor control. The DC motor opens the first door only after a valid fingerprint match, and extensive testing with all of our unregistered fingers and other classmates confirmed that incorrect fingerprints never trigger it. The combination and PIN panel is physically inaccessible until this door opens, and the servo latch actuates only after the correct fingerprint, correct combination, and correct PIN are entered in sequence.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">SRS-04</div>
                        <h3>System Lockdown</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The system shall lock down for 5 minutes if the user types in the incorrect password 3 times in a row.</p>
                            <div class="req-label">Result</div>
                            <p>The system does not lock down after 3 incorrect tries, but does lock down if the user "tells" it to lock down.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">SRS-05</div>
                        <h3>Storage Management</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>There shall be an interface for creating new passwords and deleting old ones. The system shall reject an attempt to add a new password when storage is full.</p>
                            <div class="req-label">Result</div>
                            <p>We modified this requirement, instead of having a built in interface that allows the user to change passwords and add fingerprints, this can be done using a computer and connecting to the ATMega's when the box is open and the lid protecting the electronics is taken off.</p>
                        </div>
                    </div>
                    </div>

                    <div class="requirements-column">
                        <h3 class="column-header">Hardware Requirements Specification (HRS)</h3>
                    <div class="req-card">
                        <div class="req-number">HRS-01</div>
                        <h3>Microcontroller</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The overall system control shall be provided by the ATmega328PB.</p>
                            <div class="req-label">Result</div>
                            <p>No changes. Requirement fulfilled.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">HRS-02</div>
                        <h3>Biometric Lock 1</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The first biometric lock shall be a fingerprint scanner. The fingerprint scanner shall be able to scan and recognize fingerprints from Yongwoo, Jeevan, and Tomas, and shall differentiate between them.</p>
                            <div class="req-label">Result</div>
                            <p>No changes. Requirement fulfilled.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">HRS-03</div>
                        <h3>Biometric Lock 2</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The second biometric scanner shall be a facial recognition camera. This camera shall be able to scan and recognize faces, and shall differentiate between them.</p>
                            <div class="req-label">Result</div>
                            <p>Unfortunately due to shipping issues we never received the facial recognition module.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">HRS-04</div>
                        <h3>Keypad</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>The last lock shall be a keypad, where the user has to type an X-digit password to open the box. It shall have two LEDs: a red LED that turns on when the keypad is on but the box is closed, and a green LED that turns on when the correct password is typed in.</p>
                            <div class="req-label">Result</div>
                            <p>The keypad is used to enter a 4-digit PIN. Instead of LEDs, an LCD screen was used instead for prompting the user and showing progress.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">HRS-05</div>
                        <h3>Servo</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>A servo shall be used to open the door that allows the user to use the knobs and keypad. This door shall only open if the facial recognition and fingerprint recognize the user.</p>
                            <div class="req-label">Result</div>
                            <p>The door revealing the knobs and keypad is actuated by a DC motor actuating a linear slider instead of a servo. This door only opens once the fingerprint is verified.</p>
                        </div>
                    </div>

                    <div class="req-card">
                        <div class="req-number">HRS-06</div>
                        <h3>Relay</h3>
                        <div class="req-content">
                            <div class="req-label">Requirement</div>
                            <p>A relay shall turn on the keypad only when the correct combination of switches and knobs is inputted.</p>
                            <div class="req-label">Result</div>
                            <p>The keypad does not need a separate power source - instead GPIO pins are used to scan for keypad inputs. They GPIOs do not scan the keypad unless the correct switch and knob combination is detected.</p>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="conclusion">
            <div class="container">
                <div class="conclusion-grid">
                    <div class="conclusion-card">
                        <h4>What Went Well</h4>
                        <ul>
                            <li>Reliable multi-MCU communication using simple GPIO encoding</li>
                            <li>Smooth integration of actuators with LCD-guided user experience</li>
                            <li>Robust fingerprint performance</li>
                            <li>Effective power management with simple 12V power supply to power all circuitry</li>
                            <li>Mechanical design and hardware installation was seamless</li>
                            <li>Efficiently split up tasks to create hardware and software parts that could come together for the final product</li>
                        </ul>
                    </div>

                    <div class="conclusion-card">
                        <h4>Lessons Learned</h4>
                        <ul>
                            <li>Designing modular firmware significantly simplifies integration</li>
                            <li>UART debugging with mis-matched voltage domains requires careful inspection</li>
                            <li>Mechanical choices (servo torque, motor force) matter as much as code</li>
                        </ul>
                    </div>

                    <div class="conclusion-card">
                        <h4>Proudest Accomplishments</h4>
                        <ul>
                            <li>Homemade Multi MCU communication was seamless and effective</li>
                            <li>No broken/fried electronic components</li>
                            <li>Extremely smooth operation and unlock process</li>
                            <li>Final result looks very close to a final prototype</li>
                        </ul>
                    </div>

                    <div class="conclusion-card">
                        <h4>Approach Changes</h4>
                        <ul>
                            <li>Original facial recognition stage was removed because the module never arrived</li>
                            <li>Two servos were replaced with a DC motor + servo approach for reliability</li>
                            <li>LEDs were replaced with a full LCD UI to satisfy SPI and improve UX</li>
                        </ul>
                    </div>

                    <div class="conclusion-card">
                        <h4>Obstacles</h4>
                        <ul>
                            <li>Laser cutter downtime</li>
                            <li>Hardware shipping delays</li>
                            <li>Limited budget ($150 total)</li>
                            <li>Low torque DC motor actuating sliding door</li>
                            <li>Couldn't get a bare-metal C UART driver working with the fingerprint sensor</li>
                        </ul>
                    </div>

                    <div class="conclusion-card">
                        <h4>Next Steps</h4>
                        <ul>
                            <li>Add facial recognition</li>
                            <li>Add increased security layers
                                <ul style="margin-top: 6px; padding-left: 18px;">
                                    <li>Biometric, for example iris scanner</li>
                                    <li>More unique combination lock inputs</li>
                                </ul>
                            </li>
                            <li>Create a custom PCB to shrink the electronics footprint</li>
                            <li>Secure override key for power failures</li>
                            <li>Implement onboard user management</li>
                            <li>Unlock attempt history
                                <ul style="margin-top: 6px; padding-left: 18px;">
                                    <li>With facial recognition camera pictures can be taken of the user/intruder</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Lightbox Modal -->
    <div id="imageModal" class="modal" onclick="closeModal()">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-caption" id="modalCaption"></div>
            <img id="modalImage" src="" alt="">
        </div>
    </div>

    <script>
        function openModal(imageSrc, caption) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const modalCaption = document.getElementById('modalCaption');

            modal.classList.add('active');
            modalImg.src = imageSrc;
            modalCaption.textContent = caption;
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modal on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        // Active navigation highlighting
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-link[href^="#"]'); // Only select internal links

        function updateActiveNav() {
            let currentSection = '';
            const scrollPosition = window.scrollY + 100;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;

                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
        }

        // Update on scroll
        window.addEventListener('scroll', updateActiveNav);
        // Update on page load
        updateActiveNav();
    </script>
</body>
</html>
